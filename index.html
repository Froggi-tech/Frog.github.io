<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Тест на тип восприятия</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
</head>
<body>
    <h1>Определение типа восприятия информации</h1>
    <div id="quiz"></div>
    <div id="result"></div>

    <script>
        const questions = [
            {
                question: "Как вы предпочитаете получать информацию?",
                options: [
                    "Слушать аудиокниги и лекции",
                    "Читать текст и изучать схемы",
                    "Смотреть видео и презентации",
                    "Практиковаться и экспериментировать"
                ]
            },
            {
                question: "При создании презентации вы:",
                options: [
                    "Добавляете звуковые эффекты и музыку",
                    "Используете много текста и диаграмм",
                    "Делаете яркий визуальный дизайн",
                    "Добавляете интерактивные элементы"
                ]
            },
            {
                question: "Какой способ обучения вам ближе?",
                options: [
                    "Обсуждение и диалог",
                    "Чтение учебников",
                    "Просмотр обучающих видео",
                    "Практические занятия"
                ]
            },
            {
                question: "В поездках вы:",
                options: [
                    "Слушаете местные истории и музыку",
                    "Читаете путеводители и карты",
                    "Фотографируете достопримечательности",
                    "Пробуете местную кухню и активности"
                ]
            },
            {
                question: "Что вам нравится больше всего?",
                options: [
                    "Слушать музыку и подкасты",
                    "Читать книги и статьи",
                    "Смотреть фильмы и фотографии",
                    "Заниматься спортом или хобби"
                ]
            },
            {
                question: "Как вы планируете свой день?",
                options: [
                    "Проговариваете план вслух",
                    "Составляете список дел",
                    "Используете календарь с цветовой маркировкой",
                    "Действуете по ситуации"
                ]
            },
            {
                question: "При выборе фильма вам важно:",
                options: [
                    "Качество звука и диалоги",
                    "Сюжет и логика повествования",
                    "Визуальные эффекты и картинка",
                    "Динамика и экшн-сцены"
                ]
            },
            {
                question: "Как вы запоминаете информацию?",
                options: [
                    "Проговариваю вслух несколько раз",
                    "Записываю и составляю конспекты",
                    "Рисую схемы и ментальные карты",
                    "Пытаюсь применить на практике"
                ]
            },
            {
                question: "Как вы отдыхаете?",
                options: [
                    "Слушаете расслабляющую музыку",
                    "Читаете интересную книгу",
                    "Смотрите любимые фильмы или сериалы",
                    "Гуляете или занимаетесь йогой"
                ]
            }
        ];

        let answerCounts = [0, 0, 0, 0];
        let answeredQuestions = 0;

        function renderQuiz() {
            const quizContainer = document.getElementById('quiz');
            questions.forEach((q, questionIndex) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <h3>Вопрос ${questionIndex + 1}: ${q.question}</h3>
                    <div class="options">
                        ${q.options.map((option, index) => `
                            <button onclick="checkAnswer(${questionIndex}, ${index})">
                                ${option}
                            </button>
                        `).join('')}
                    </div>
                `;
                quizContainer.appendChild(questionDiv);
            });
        }

        function checkAnswer(questionIndex, selectedAnswer) {
            const questionDiv = document.querySelectorAll('.question')[questionIndex];
            const buttons = questionDiv.querySelectorAll('button');
            
            buttons.forEach(button => button.disabled = true);
            questionDiv.classList.add('answered');
            
            answerCounts[selectedAnswer]++;
            answeredQuestions++;
            
            if (answeredQuestions === questions.length) {
                showResult();
            }
        }

        function showResult() {
            const resultDiv = document.getElementById('result');
            const quizDiv = document.getElementById('quiz');
            const maxCount = Math.max(...answerCounts);
            const dominantType = answerCounts.indexOf(maxCount);
            
            const types = [
                {
                    title: "Аудиал",
                    description: "Вы лучше всего воспринимаете информацию на слух. Предпочитаете слушать, обсуждать и проговаривать. Для вас важны звуки, музыка и устная речь. Вам легче запомнить то, что вы услышали, чем то, что увидели или прочитали."
                },
                {
                    title: "Дигитал",
                    description: "Вы логический мыслитель. Предпочитаете работать с текстом, схемами и цифрами. Для вас важна структура и последовательность информации. Вы хорошо анализируете данные и любите находить закономерности."
                },
                {
                    title: "Визуал",
                    description: "Вы лучше всего воспринимаете визуальную информацию. Предпочитаете смотреть и наблюдать. Для вас важны изображения, цвета и визуальные образы. Вы хорошо запоминаете то, что видите, и часто мыслите картинками."
                },
                {
                    title: "Кинестетик",
                    description: "Вы учитесь через опыт и действие. Предпочитаете практический подход и физическую активность. Для вас важны ощущения и непосредственное участие. Вы лучше всего усваиваете информацию через движение и практику."
                }
            ];

            // Автоматически отправляем результат
            sendResults(types[dominantType].title, types[dominantType].description);

            quizDiv.style.display = 'none';
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = `
                <h2>Результат тестирования</h2>
                <h3>${types[dominantType].title}</h3>
                <p>${types[dominantType].description}</p>
            `;
        }

        function sendResults(resultType, resultDesc) {
            const adminEmail = "egstar2009@gmail.com";
            
            emailjs.init("SgraT2m_GVnwmi2Ni"); // Замените на ваш USER_ID из EmailJS

            const templateParams = {
                to_email: adminEmail,
                result_type: resultType,
                result_description: resultDesc,
                date: new Date().toLocaleString(),
                answers: answerCounts.join(', ')
            };

            emailjs.send('service_afqy4mm', 'template_99ogqcf', templateParams)
                .then(function(response) {
                    console.log('Результаты успешно отправлены');
                }, function(error) {
                    console.error('Ошибка отправки:', error);
                });
        }

        renderQuiz();
    </script>
</body>
</html>